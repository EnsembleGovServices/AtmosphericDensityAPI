<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>CTIPe - Atmospheric Density API</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "CTIPe";
        var mkdocs_page_input_path = "CTIPe.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Atmospheric Density API
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="./">Home</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">CTIPe</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#about-this-api">About this API</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#data-access">Data Access</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#base-endpoint">Base Endpoint</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#list-files">List Files</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#download-files">Download Files</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#model-citation">Model Citation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#model-approach">Model Approach</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#model-inputs">Model Inputs</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#model-developers">Model Developers</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Atmospheric Density API</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li><li>CTIPe</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="atmospheric-density-api">Atmospheric Density API</h1>
<h2 id="about-this-api">About this API</h2>
<p>Ensemble’s Atmospheric Density API delivers data files representing a continuously updated nowcast of Earth’s total atmospheric density, generating a nowcast file every 10 minutes.</p>
<ul>
<li>The API generates total atmospheric density in kg/m^3 as a function of longitude, latitude and partial pressure (instead of altitude). </li>
<li>The API is designed to easily facilitate satellite trajectory model flythroughs as a near real time solution to calculate the local ionospheric drag of satellites in LEO and MEO. </li>
<li>The model runs about 20 minutes ahead of real-time and nowcast files become accessible every 10 minutes. </li>
<li>The API provides model density on a geographic longitude, latitude, altitude grid in a series of timestamped parquet files <ul>
<li>Example output grid: (rho(lon, lat, alt)</li>
<li>The filename includes the date and time in ISO format.</li>
</ul>
</li>
<li>The API uses NOAA’s Coupled Thermosphere Ionosphere Plasmasphere Electrodynamics Model (CTIPe) currently hosted on the Integrated Space Weather Framework (ISWA) within the <strong>Architecture for Collaborative Evaluation (ACE) compute</strong> environment</li>
</ul>
<p>The API converts raw model output to partial pressure using <a href="https://ccmc.gsfc.nasa.gov/Kamodo/">Kamodo’s function composition and coordinate transformation space physics-as-a-service Analysis Suite.</a></p>
<h2 id="authentication">Authentication</h2>
<p>To use the endpoint you need to authenticate your self via passing the api-key in header showing below. To get the api-key mail us at <a href="mailto:ogerland@ensembleconsultancy.com"><strong>ogerland@ensembleconsultancy.com</strong></a>.</p>
<h2 id="data-access">Data Access</h2>
<h3 id="base-endpoint">Base Endpoint</h3>
<pre><code>https://32wm1ggs0a.execute-api.us-east-1.amazonaws.com/v1
</code></pre>
<h3 id="list-files">List Files</h3>
<p>Endpoint: <code>/{bucket}</code></p>
<p>Request Methods: <code>GET</code></p>
<p>Headers: <code>"X-API-Key"</code> : <code>API_KEYS</code></p>
<p>Example <strong>URL</strong>:</p>
<pre><code>https://32wm1ggs0a.execute-api.us-east-1.amazonaws.com/v1/ctipe-data
</code></pre>
<p>Example <strong>Response</strong>: </p>
<pre><code class="language-yaml">{
    &quot;start&quot;: 1,
    &quot;limit&quot;: 10,
    &quot;count&quot;: 999,
    &quot;previous&quot;: &quot;&quot;,
    &quot;next&quot;: &quot;?start=11&amp;limit=10&quot;,
    &quot;data&quot;: [
        &quot;CTIPE_RHO_GEO_2022-05-13T00:10:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T00:20:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T00:30:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T00:40:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T00:50:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T01:00:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T01:10:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T01:20:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T01:30:00.parquet&quot;,
        &quot;CTIPE_RHO_GEO_2022-05-13T01:40:00.parquet&quot;
    ]
}
</code></pre>
<ul>
<li>Pass <strong>next</strong> or <strong>previous</strong> in the query to see the next files lists </li>
</ul>
<p>Example:</p>
<pre><code> https://32wm1ggs0a.execute-api.us-east-1.amazonaws.com/v1/ctipe-data?start=11&amp;limit=10
</code></pre>
<pre><code class="language-python">import requests

headers = {'X-API-Key': 'API_KEY_HERE'}

request_url = 'https://32wm1ggs0a.execute-api.us-east-1.amazonaws.com/v1/ctipe-data'

response = requests.get(request_url, headers=headers)

print(response.json())
</code></pre>
<h3 id="download-files">Download Files</h3>
<p>Endpoint: <code>/{bucket}/{file}</code></p>
<p>Request Methods: <code>GET</code></p>
<p>Headers: <code>"X-API-Key"</code> : <code>API_KEYS</code></p>
<p>Example <strong>URL</strong>: </p>
<pre><code>https://32wm1ggs0a.execute-api.us-east-1.amazonaws.com/v1/ctipe-data/CTIPE_RHO_GEO_2022-05-13T00:10:00.parquet
</code></pre>
<p>Example <strong>Response</strong>:  This will download the file</p>
<pre><code class="language-python">import requests

headers = {'X-API-Key': 'API_KEY_HERE'}

request_url = 'https://32wm1ggs0a.execute-api.us-east-1.amazonaws.com/v1/ctipe-data/CTIPE_RHO_GEO_2022-05-13T00:10:00.parquet'

response = requests.get(request_url, headers=headers)

with open('CTIPE_RHO_GEO_2022-05-13T00:10:00.parquet', 'wb') as file:
    file.write(response.content)
</code></pre>
<ul>
<li>This will download the file from <strong>S3</strong> and store it in your local.</li>
</ul>
<h2 id="model-citation">Model Citation</h2>
<p>The API uses NOAA’s Coupled Thermosphere Ionosphere Plasmasphere Electrodynamics Model (CTIPe) currently hosted on the Integrated Space Weather Framework within the <strong>Architecture for Collaborative Evaluation (ACE)</strong> environment, a shared compute eco-system between the Community Coordinated Modeling Center (CCMC) at NASA and the Space Weather Prediction Testbed (SWPT) at NOAA.</p>
<p><a href="http://ccmc-swpc.s3-website-us-east-1.amazonaws.com/about.html">http://ccmc-swpc.s3-website-us-east-1.amazonaws.com/about.html</a></p>
<h3 id="model-approach">Model Approach</h3>
<ul>
<li>The coupled thermosphere ionosphere plasmasphere electrodynamics (CTIPe) model is a non-linear, coupled thermosphere-ionosphere-plasmasphere physically based numerical code that includes a self-consistent electrodynamics scheme for the computation of dynamo electric fields. The model consists of four distinct components which run concurrently and are fully coupled. Included are a global thermosphere, a high-latitude ionosphere, a mid and low-latitude ionosphere/plasmasphere and an electrodynamical calculation of the global dynamo electric field. model has evolved from an integration of a neutral thermospheric code and a high- and mid-latitude ionospheric model.</li>
</ul>
<h3 id="model-inputs">Model Inputs</h3>
<ul>
<li>The magnetospheric input to the model is based on the statistical models of auroral precipitation and electric fields described by Fuller-Rowell and Evans (1987) and Weimer (2005), respectively. Both inputs are keyed to solar wind measurements from ACE and/or DICOVR.</li>
<li>The lower boundary condition in CTIPe is based on a free run of the Whole Atmosphere Model (WAM). Ionization rates from the EUV flux are evaluated from reference spectra for high and low solar activity on the basis of the Atmospheric Explorer (AE) measurements. The tidal inputs at the lower boundary are based on results from the global-scale wave model (GSWM) Hagan et al., (1995; 1999). The inclusion of the tidal forcing at the lower boundary as opposed to a higher pressure level as was done in previous versions of the model is described by Mueller-Wodrag et al., (2001).</li>
<li>The joule heating calculation at high latitudes includes the effects of small-scale fluctuations in the E-field. The amplitude and spatial distribution of applied fluctuations is based on Millstone Hill Incoherent Scatter Radar data Codrescu et al., (2000). The average field at each grid point follows the diurnal variation prescribed by the Weimer model, while the small scale fluctuations are updated every minute. This procedure improves the neutral temperature structure as compared with MSIS.</li>
</ul>
<h3 id="model-developers">Model Developers</h3>
<ul>
<li>Mihail Codrescu</li>
<li>Tim Fuller-Rowell</li>
<li>Mariangel Fedrizzi</li>
<li>Catalin Neagrea</li>
<li>Tomoko Matsuo</li>
<li>Naomi Maruyama</li>
<li>George Millward</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="./" class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="./" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
